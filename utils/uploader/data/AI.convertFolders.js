const fs = require('fs');
const path = require('path');

// Mapping of folder-type names to their folder names
const folderTypeToName = {
    'android': 'android',
    'android-opened': 'android',
    'angular': 'angular',
    'angular-opened': 'angular',
    'apache': 'apache',
    'apache-opened': 'apache',
    'api': 'api',
    'api-opened': 'api',
    'app': 'app',
    'app-opened': 'app',
    'arangodb': 'arangodb',
    'arangodb-opened': 'arangodb',
    'asset': 'assets',
    'asset-opened': 'assets',
    'astro': 'astro',
    'astro-opened': 'astro',
    'audio': 'audio',
    'audio-opened': 'audio',
    'aurelia': 'aurelia',
    'aurelia-opened': 'aurelia',
    'aws': 'aws',
    'aws-opened': 'aws',
    'azure': 'azure',
    'azure-opened': 'azure',
    'azurepipelines': '.azurepipelines',
    'azurepipelines-opened': '.azurepipelines',
    'binary': 'bin',
    'binary-opened': 'bin',
    'bloc': 'bloc',
    'bloc-opened': 'bloc',
    'blueprint': 'blueprint',
    'blueprint-opened': 'blueprint',
    'bot': 'bot',
    'bot-opened': 'bot',
    'bower': 'bower_components',
    'bower-opened': 'bower_components',
    'buildkite': '.buildkite',
    'buildkite-opened': '.buildkite',
    'cake': 'cake',
    'cake-opened': 'cake',
    'cargo': 'cargo',
    'cargo-opened': 'cargo',
    'certificate': 'certs',
    'certificate-opened': 'certs',
    'changesets': '.changeset',
    'changesets-opened': '.changeset',
    'chef': 'chef',
    'chef-opened': 'chef',
    'circleci': '.circleci',
    'circleci-opened': '.circleci',
    'claude': '.claude',
    'claude-opened': '.claude',
    'cli': 'cli',
    'cli-opened': 'cli',
    'client': 'client',
    'client-opened': 'client',
    'cloudflare': '.cloudflare',
    'cloudflare-opened': '.cloudflare',
    'cmake': 'cmake',
    'cmake-opened': 'cmake',
    'common': 'common',
    'common-opened': 'common',
    'component': 'components',
    'component-opened': 'components',
    'composer': 'vendor',
    'composer-opened': 'vendor',
    'config': 'config',
    'config-opened': 'config',
    'controller': 'controllers',
    'controller-opened': 'controllers',
    'coverage': 'coverage',
    'coverage-opened': 'coverage',
    'css': 'css',
    'css-opened': 'css',
    'css2': 'styles',
    'css2-opened': 'styles',
    'cubit': 'cubit',
    'cubit-opened': 'cubit',
    'cursor': '.cursor',
    'cursor-opened': '.cursor',
    'cypress': 'cypress',
    'cypress-opened': 'cypress',
    'dapr': 'dapr',
    'dapr-opened': 'dapr',
    'dart': 'dart',
    'dart-opened': 'dart',
    'datadog': '.datadog',
    'datadog-opened': '.datadog',
    'db': 'db',
    'db-opened': 'db',
    'debian': 'debian',
    'debian-opened': 'debian',
    'dependabot': '.dependabot',
    'dependabot-opened': '.dependabot',
    'devcontainer': '.devcontainer',
    'devcontainer-opened': '.devcontainer',
    'dist': 'dist',
    'dist-opened': 'dist',
    'docker': 'docker',
    'docker-opened': 'docker',
    'docs': 'docs',
    'docs-opened': 'docs',
    'e2e': 'e2e',
    'e2e-opened': 'e2e',
    'elasticbeanstalk': '.elasticbeanstalk',
    'elasticbeanstalk-opened': '.elasticbeanstalk',
    'electron': 'electron',
    'electron-opened': 'electron',
    'expo': 'expo',
    'expo-opened': 'expo',
    'favicon': 'favicon',
    'favicon-opened': 'favicon',
    'flow': 'flow',
    'flow-opened': 'flow',
    'flutter': 'flutter',
    'flutter-opened': 'flutter',
    'fonts': 'fonts',
    'fonts-opened': 'fonts',
    'frontcommerce': '.front-commerce',
    'frontcommerce-opened': '.front-commerce',
    'gcp': '.gcp',
    'gcp-opened': '.gcp',
    'gemini': '.gemini',
    'gemini-opened': '.gemini',
    'git': '.git',
    'git-opened': '.git',
    'github': '.github',
    'github-opened': '.github',
    'gitlab': '.gitlab',
    'gitlab-opened': '.gitlab',
    'godot': 'godot',
    'godot-opened': 'godot',
    'gradle': 'gradle',
    'gradle-opened': 'gradle',
    'graphql': 'graphql',
    'graphql-opened': 'graphql',
    'grunt': 'grunt',
    'grunt-opened': 'grunt',
    'gulp': 'gulp',
    'gulp-opened': 'gulp',
    'haxelib': 'haxelib',
    'haxelib-opened': 'haxelib',
    'helper': 'helpers',
    'helper-opened': 'helpers',
    'histoire': '.histoire',
    'histoire-opened': '.histoire',
    'hook': 'hooks',
    'hook-opened': 'hooks',
    'husky': '.husky',
    'husky-opened': '.husky',
    'idea': '.idea',
    'idea-opened': '.idea',
    'images': 'images',
    'images-opened': 'images',
    'include': 'include',
    'include-opened': 'include',
    'interfaces': 'interfaces',
    'interfaces-opened': 'interfaces',
    'ios': 'ios',
    'ios-opened': 'ios',
    'js': 'js',
    'js-opened': 'js',
    'json': 'json',
    'json-official': 'json',
    'json-official-opened': 'json',
    'json-opened': 'json',
    'junie': 'junie',
    'junie-opened': 'junie',
    'kotlin': 'kotlin',
    'kotlin-opened': 'kotlin',
    'kubernetes': 'kubernetes',
    'kubernetes-opened': 'kubernetes',
    'less': 'less',
    'less-opened': 'less',
    'library': 'lib',
    'library-opened': 'lib',
    'light-cursor': '.cursor',
    'light-cursor-opened': '.cursor',
    'light-cypress': 'cypress',
    'light-cypress-opened': 'cypress',
    'light-electron': 'electron',
    'light-electron-opened': 'electron',
    'light-expo': 'expo',
    'light-expo-opened': 'expo',
    'light-fonts': 'fonts',
    'light-fonts-opened': 'fonts',
    'light-gradle': 'gradle',
    'light-gradle-opened': 'gradle',
    'light-meteor': 'meteor',
    'light-meteor-opened': 'meteor',
    'light-mypy': '.mypy_cache',
    'light-mypy-opened': '.mypy_cache',
    'light-mysql': 'mysql',
    'light-mysql-opened': 'mysql',
    'light-node': 'node_modules',
    'light-node-opened': 'node_modules',
    'light-redux': 'redux',
    'light-redux-opened': 'redux',
    'light-sass': 'sass',
    'light-sass-opened': 'sass',
    'light-zed': '.zed',
    'light-zed-opened': '.zed',
    'linux': 'linux',
    'linux-opened': 'linux',
    'locale': 'locale',
    'locale-opened': 'locale',
    'log': 'log',
    'log-opened': 'log',
    'macos': 'macos',
    'macos-opened': 'macos',
    'mariadb': 'mariadb',
    'mariadb-opened': 'mariadb',
    'maven': 'maven',
    'maven-opened': 'maven',
    'mediawiki': 'mediawiki',
    'mediawiki-opened': 'mediawiki',
    'memcached': 'memcached',
    'memcached-opened': 'memcached',
    'meteor': 'meteor',
    'meteor-opened': 'meteor',
    'middleware': 'middleware',
    'middleware-opened': 'middleware',
    'minecraft': 'minecraft',
    'minecraft-opened': 'minecraft',
    'minikube': 'minikube',
    'minikube-opened': 'minikube',
    'mjml': 'mjml',
    'mjml-opened': 'mjml',
    'mock': 'mock',
    'mock-opened': 'mock',
    'model': 'models',
    'model-opened': 'models',
    'module': 'modules',
    'module-opened': 'modules',
    'mojo': 'mojo',
    'mojo-opened': 'mojo',
    'mongodb': 'mongodb',
    'mongodb-opened': 'mongodb',
    'mypy': '.mypy_cache',
    'mypy-opened': '.mypy_cache',
    'mysql': 'mysql',
    'mysql-opened': 'mysql',
    'netlify': '.netlify',
    'netlify-opened': '.netlify',
    'next': '.next',
    'next-opened': '.next',
    'nginx': 'nginx',
    'nginx-opened': 'nginx',
    'nix': 'nix',
    'nix-opened': 'nix',
    'node': 'node_modules',
    'node-opened': 'node_modules',
    'notebooks': 'notebooks',
    'notebooks-opened': 'notebooks',
    'notification': 'notifications',
    'notification-opened': 'notifications',
    'nuget': 'packages',
    'nuget-opened': 'packages',
    'nuxt': '.nuxt',
    'nuxt-opened': '.nuxt',
    'package': 'packages',
    'package-opened': 'packages',
    'paket': 'paket',
    'paket-opened': 'paket',
    'php': 'php',
    'php-opened': 'php',
    'platformio': '.platformio',
    'platformio-opened': '.platformio',
    'plugin': 'plugins',
    'plugin-opened': 'plugins',
    'prisma': 'prisma',
    'prisma-opened': 'prisma',
    'private': 'private',
    'private-opened': 'private',
    'public': 'public',
    'public-opened': 'public',
    'pytest': '.pytest_cache',
    'pytest-opened': '.pytest_cache',
    'python': 'python',
    'python-opened': 'python',
    'ravendb': 'ravendb',
    'ravendb-opened': 'ravendb',
    'redis': 'redis',
    'redis-opened': 'redis',
    'redux': 'redux',
    'redux-opened': 'redux',
    'route': 'routes',
    'route-opened': 'routes',
    'sass': 'sass',
    'sass-opened': 'sass',
    'script': 'scripts',
    'script-opened': 'scripts',
    'seedkit': 'seedkit',
    'seedkit-opened': 'seedkit',
    'server': 'server',
    'server-opened': 'server',
    'services': 'services',
    'services-opened': 'services',
    'shared': 'shared',
    'shared-opened': 'shared',
    'snaplet': '.snaplet',
    'snaplet-opened': '.snaplet',
    'spin': 'spin',
    'spin-opened': 'spin',
    'src': 'src',
    'src-opened': 'src',
    'sso': 'sso',
    'sso-opened': 'sso',
    'story': 'stories',
    'story-opened': 'stories',
    'style': 'styles',
    'style-opened': 'styles',
    'supabase': 'supabase',
    'supabase-opened': 'supabase',
    'svelte': 'svelte',
    'svelte-opened': 'svelte',
    'tauri': '.tauri',
    'tauri-opened': '.tauri',
    'temp': 'temp',
    'temp-opened': 'temp',
    'template': 'templates',
    'template-opened': 'templates',
    'test': 'test',
    'test-opened': 'test',
    'theme': 'themes',
    'theme-opened': 'themes',
    'tools': 'tools',
    'tools-opened': 'tools',
    'travis': '.travis',
    'travis-opened': '.travis',
    'trunk': '.trunk',
    'trunk-opened': '.trunk',
    'turbo': '.turbo',
    'turbo-opened': '.turbo',
    'typescript': 'typescript',
    'typescript-opened': 'typescript',
    'typings': 'typings',
    'typings-opened': 'typings',
    'typings2': '@types',
    'typings2-opened': '@types',
    'vagrant': 'vagrant',
    'vagrant-opened': 'vagrant',
    'vercel': '.vercel',
    'vercel-opened': '.vercel',
    'video': 'video',
    'video-opened': 'video',
    'view': 'views',
    'view-opened': 'views',
    'vitepress': '.vitepress',
    'vitepress-opened': '.vitepress',
    'vs': '.vs',
    'vs-opened': '.vs',
    'vs2': '.visualstudio',
    'vs2-opened': '.visualstudio',
    'vscode': '.vscode',
    'vscode-opened': '.vscode',
    'vscode-test': '.vscode-test',
    'vscode-test-opened': '.vscode-test',
    'vscode-test2': 'vscode-test',
    'vscode-test2-opened': 'vscode-test',
    'vscode-test3': 'vscode-testing',
    'vscode-test3-opened': 'vscode-testing',
    'vscode2': '.vscode',
    'vscode2-opened': '.vscode',
    'vscode3': '.vscode-insiders',
    'vscode3-opened': '.vscode-insiders',
    'wasm': 'wasm',
    'wasm-opened': 'wasm',
    'webpack': 'webpack',
    'webpack-opened': 'webpack',
    'windows': 'windows',
    'windows-opened': 'windows',
    'windsurf': '.windsurf',
    'windsurf-opened': '.windsurf',
    'www': 'www',
    'www-opened': 'www',
    'yarn': '.yarn',
    'yarn-opened': '.yarn',
    'zed': '.zed',
    'zed-opened': '.zed'
};

// Read the icons.json file
const iconsPath = path.join(__dirname, 'icons.json');
const iconsData = JSON.parse(fs.readFileSync(iconsPath, 'utf8'));

// Convert folderTypes array to object
const folderTypesObject = {};
iconsData.icons.folderType.forEach(folderType => {
    const suffix = folderType.replace('folder-type-', '');
    const folderName = folderTypeToName[suffix] || suffix;
    folderTypesObject[folderName] = folderType;
});

// Update the icons data
iconsData.icons.folderType = folderTypesObject;

// Write the updated data back
fs.writeFileSync(iconsPath, JSON.stringify(iconsData, null, 4));
console.log('Conversion complete! folderType is now an object with folder names as keys.');
